import{d as h,j as e,B as d,D as z,n as E,o as N,p as G,q as V,S as u,T as c,v as b,w as B,P as D,A as y,x as H,L as F}from"./index-rSsXQ2aj.js";import{u as W,F as _,a as O}from"./FilterField-BkHkJKir.js";import{P as $}from"./PageHeader-BQaAkGr-.js";import{S as K}from"./SciDataGrid-CZslBbeg.js";import{u as J,f as Q,F as U}from"./useListQuery-UFjiQN0j.js";import{S as X,D as Y}from"./DataGrid-mxDs3MIw.js";import{A as Z,C as ee}from"./Close-nX99JM89.js";import"./DatePicker-DEVmQ86y.js";import"./DateCalendar-aZAdOQkL.js";import"./colorManipulator-CAQZdkzO.js";import"./Grid-CKMpWdbH.js";import"./useQuery-D7PPn99x.js";import"./useGridRootProps-CXw-lQGV.js";import"./MenuItem-BEBpLWVN.js";import"./dividerClasses-DL3qGrYw.js";import"./Divider-CmeNMptk.js";const te=({filterConfigs:i,searchTerm:r,setPreviewItem:s})=>{const{activeFilters:n}=W(),[p,x]=h.useState(0),[o,g]=h.useState(25),[v,f]=h.useState(p*o),R="id",S="client",{isPending:M,isFetching:I,isError:T,data:j,error:k}=J({activeFilters:n,dataSource:"https://earthquake.usgs.gov/fdsnws/event/1/query?format=geojson",filterConfigs:i,offset:v,pageSize:o,queryMode:S,staticParams:null}),L=(j==null?void 0:j.features)||[],q=l=>{s(l.row)},A=l=>{const t=l.pageSize!==o?0:l.page,a=l.pageSize,P=t*a;x(t),g(a),f(P)};if(M){const t=new Array(o).fill(null).map((a,P)=>P);return e.jsx(d,{sx:{padding:2},children:t.map(a=>e.jsx(X,{height:50},a))})}return T?e.jsx(Z,{severity:"error",children:k.message}):e.jsxs(e.Fragment,{children:[I&&e.jsx(z,{variant:"indeterminate"}),e.jsx(K,{rows:Q(L,n,i,r),pagination:!0,paginationMode:S,onPaginationModelChange:A,getRowId:l=>l[R],columns:[{field:"properties.mag",headerName:"Magnitude",type:"number",width:150,valueGetter:(l,t)=>{var a;return(a=t==null?void 0:t.properties)==null?void 0:a.mag}},{field:"properties.status",headerName:"Status",width:150,valueGetter:(l,t)=>{var a;return(a=t==null?void 0:t.properties)==null?void 0:a.status}},{field:"properties.type",headerName:"Type",width:150,valueGetter:(l,t)=>{var a;return(a=t==null?void 0:t.properties)==null?void 0:a.type}},{field:"properties.title",headerName:"Title",width:400,valueGetter:(l,t)=>{var a;return(a=t==null?void 0:t.properties)==null?void 0:a.title}},{field:"properties.place",headerName:"Place",width:300,valueGetter:(l,t)=>{var a;return(a=t==null?void 0:t.properties)==null?void 0:a.place}}],disableColumnSelector:!0,autoHeight:!0,initialState:{pagination:{paginationModel:{page:p,pageSize:o}}},onRowClick:q})]})};var m={},w;function ae(){if(w)return m;w=1;var i=E();Object.defineProperty(m,"__esModule",{value:!0}),m.default=void 0;var r=i(N()),s=G();return m.default=(0,r.default)((0,s.jsx)("path",{d:"M10 18h4v-2h-4zM3 6v2h18V6zm3 7h12v-2H6z"}),"FilterList"),m}var ie=ae();const re=V(ie),se=({searchTerm:i,setSearchTerm:r,onToggleFiltersPanel:s})=>{const n=p=>{r(p.target.value)};return e.jsxs(u,{direction:"row",spacing:2,alignItems:"center",sx:{overflow:"hidden",padding:2},children:[e.jsx(c,{variant:"h6",component:"h2",flex:1,children:"Entity List"}),e.jsx(b,{startIcon:e.jsx(re,{}),onClick:s,children:"Filters"}),e.jsx(B,{variant:"outlined",label:"Search",size:"small",value:i,onChange:n})]})},le=({filterConfigs:i,onClose:r})=>e.jsx(U,{grouped:!1,onClose:r,sx:{border:"none"},children:i.map((s,n)=>e.jsx(_,{field:s.field,label:s.label,operator:"contains",filterComponent:s.filterComponent,filterProps:s.filterProps},`${s.field}-${n}`))}),ne=[{field:"id",headerName:"ID",width:50},{field:"attr1",headerName:"Attribute 1",width:100},{field:"attr2",headerName:"Attribute 2",width:100},{field:"attr3",headerName:"Attribute 3",width:100}],oe=Array(25).fill(0),de=oe.map((i,r)=>({id:r,attr1:"value",attr2:"value",attr3:"value"})),pe=({previewItem:i,onClose:r})=>e.jsx(D,{elevation:0,sx:{height:"100%",padding:2},children:e.jsxs(u,{spacing:3,children:[e.jsxs(u,{spacing:1,children:[e.jsxs(u,{direction:"row",children:[e.jsx(c,{variant:"h6",component:"h3",flex:1,children:e.jsx(y,{to:"/explore-data/$id",params:{id:i.Id},children:i["Planet Name"]})}),e.jsx(H,{size:"small",onClick:r,children:e.jsx(ee,{})})]}),e.jsx(c,{variant:"body2",children:"Row description, subtitle, or helper text."})]}),e.jsxs(d,{children:[e.jsx(c,{fontWeight:"medium",mb:1,children:"Property Group 1"}),e.jsx(F,{rows:[{label:"Property 1",value:"value"},{label:"Property 2",value:"value"},{label:"Property 3",value:"value"}]})]}),e.jsxs(d,{children:[e.jsx(c,{fontWeight:"medium",mb:1,children:"Property Group 2"}),e.jsx(F,{rows:[{label:"Property 4",value:"value"},{label:"Property 5",value:"value"}]})]}),e.jsxs(d,{children:[e.jsx(c,{fontWeight:"medium",mb:1,children:"Related Data"}),e.jsx(Y,{rows:de,columns:ne,disableRowSelectionOnClick:!0,initialState:{pagination:{paginationModel:{pageSize:5}}}})]}),e.jsxs(u,{direction:"row",children:[e.jsx(y,{to:"/explore-data/$id",params:{id:i.Id},children:e.jsx(b,{variant:"contained",children:"View details"})}),e.jsx(b,{variant:"outlined",children:"Export data"})]})]})}),C=[{field:"Discovery Method",label:"Discovery Method",operator:"contains-one-of",filterComponent:"CheckboxList",filterProps:{options:[{label:"Astrometry",value:"Astrometry"},{label:"Disk Kinematics",value:"Disk Kinematics"},{label:"Eclipse Timing Variations",value:"Eclipse Timing Variations"},{label:"Imaging",value:"Imaging"},{label:"Microlensing",value:"Microlensing"},{label:"Radial Velocity",value:"Radial Velocity"},{label:"Transit",value:"Transit"}]}},{field:"Mass",label:"Mass",operator:"between-inclusive",filterComponent:"RangeSlider",filterProps:{min:0,max:1e4}}],De=function(){const[r,s]=h.useState(""),[n,p]=h.useState(),[x,o]=h.useState(!0),g=()=>{o(!1)},v=()=>{o(!x)},f=()=>{p(null)};return e.jsx(O,{children:e.jsxs(d,{children:[e.jsx($,{pageTitle:"Explore Data App",description:"Description of this app",sx:{marginBottom:1,padding:2}}),e.jsx(d,{children:e.jsxs(u,{direction:"row",children:[x&&e.jsx(d,{sx:{width:"350px"},children:e.jsx(le,{filterConfigs:C,onClose:g})}),e.jsxs(D,{elevation:0,sx:{flex:1,minHeight:"600px",minWidth:0},children:[e.jsx(se,{searchTerm:r,setSearchTerm:s,onToggleFiltersPanel:v}),e.jsx(te,{filterConfigs:C,searchTerm:r,setPreviewItem:p})]}),n&&e.jsx(d,{sx:{minWidth:"400px"},children:e.jsx(pe,{previewItem:n,onClose:f})})]})})]})})};export{De as component};
